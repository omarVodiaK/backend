<div class="page-header">
    <h1>Zones</h1>
</div>

<div class="container" style="width: 100%">
    <div class="row" style="margin-top:20px;">
        <div class="col-xs-12 col-md-8">
            <form class="form-inline">
                <div class="form-group">
                    <label>Filter by: </label>
                    <input type="text" ng-model="search" class="form-control" placeholder="Search">
                </div>
            </form>
        </div>
        <div class="col-xs-6 col-md-4">
            <div class="pull-right" ng-controller="ModalZoneCtrl">
                <!-- angular ui modal -->
                <script type="text/ng-template" id="zoneModal.html">
                    <div class="modal-header">
                        <h3 class="modal-title">New Zone</h3>
                    </div>
                    <div class="modal-body">

                        <div class="row" ng-controller="GeocodeCtrl">
                            <div class="col-sm-6">
                                <form class="form-horizontal">
                                    <div class="form-group">
                                        <label class="control-label col-xs-2">Name:</label>

                                        <div class="col-xs-10">
                                            <input type="text" class="form-control" placeholder="Name">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-xs-2">Address:</label>

                                        <div class="col-xs-10">
                                            <div class="input-group">
                                                <textarea type="text" id="zoneAddress" ng-model="geocodeAddress"
                                                          class="form-control" rows="2"
                                                          placeholder="Address" aria-describedby="geocode-addon"></textarea>
                                                <span class="input-group-addon" ng-click="geoCode()" id="geocode-addon"><i class="icon-search"></i></span>
                                                <!--<button class="btn" type="button" ng-click="geoCode()" title="search">-->
                                                    <!--&nbsp;
                                                <!--</button>-->
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-xs-2">Range:</label>

                                        <div class="col-xs-10">
                                            <div class="input-group">
                                                <input type="text" class="form-control" placeholder="20"
                                                       aria-describedby="range-addon">
                                                <span class="input-group-addon" id="range-addon">km</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-xs-2">Latitude:</label>

                                        <div class="col-xs-10">
                                            <input type="text" class="form-control" placeholder="10.31315"
                                                   ng-model="loc.lat">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-xs-2">Longitude:</label>

                                        <div class="col-xs-10">
                                            <input type="text" class="form-control" placeholder="10.31315"
                                                   ng-model="loc.lon">
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <div class="col-sm-6">
                                <app-map style="height:400px;margin-bottom:10px;box-shadow:0 3px 25px black;"
                                         center="loc"
                                         markers="airports">
                                </app-map>
                                <span>*make sure to geocode your address</span>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-danger" type="button" ng-click="cancel()">Cancel</button>
                        <button class="btn btn-primary" type="button" ng-click="ok()">Save</button>
                    </div>
                </script>
                <!-- / -->
                <!-- Button trigger modal -->
                <button type="button" ng-click="open('lg','zoneModal.html')" class="btn btn-primary">Add
                    Zone
                </button>
                <!-- / -->
            </div>

        </div>

    </div>
</div>

<div class="bs-component" style="margin-top:20px;">
    <div class="clearfix visible-sm"></div>
    <table class="table table-responsive table-striped table-hover">
        <thead>
        <tr>
            <th></th>
            <th>Name</th>
            <th>Address</th>
            <th>Range</th>
            <th>Latitude</th>
            <th>Longitude</th>
            <th colspan="2"></th>
        </tr>
        </thead>
        <tbody dir-paginate="zone in zones |filter:search|itemsPerPage:5">
        <tr>
            <td></td>
            <td>{{zone.zone_name}}</td>
            <td>{{zone.zone_address}}</td>
            <td>{{zone.zone_range}}</td>
            <td>{{zone.zone_latitude}}</td>
            <td>{{zone.zone_longitude}}</td>

            <td class="text-right">
                <div class="btn-group" role="group">
                    <input type="button" value="Remove" class="btn btn-danger" ng-click="removeZoneRow(zone._id)"/>

                    <!-- Button trigger modal -->
                    <input type="button" value="Update zone" class="btn btn-warning" ng-click="">


                </div>
            </td>
        </tr>
        </tbody>
    </table>
</div>

<dir-pagination-controls
        max-size="5"
        direction-links="true"
        boundary-links="true">
</dir-pagination-controls>
